#include "stdafx.h"
#include "font.h"
#ifndef _WINDOWS
#include "GenericTypeDefs.h"
#pragma romdata overlay FONT_SECTION =0x00AC00
typedef struct SYMBOL {
    BYTE Size;
    WORD Image[];
}SYMBOL;
static rom 
#else
static
#endif
    WORD Arial_Data[] = {
        0x005,0x0,0x0,0x0,0x0,0x0,    	
        0x003,0x002,0x005,0x002,
	0x001,0x02F,
	0x003,0x003,0x00,0x003,
	0x006,0x024,0x07E,0x024,0x024,0x07E,0x024,
	0x005,0x024,0x04A,0x0FF,0x052,0x024,
	0x008,0x002,0x025,0x012,0x008,0x004,0x012,0x029,0x010,
	0x007,0x010,0x02A,0x025,0x02D,0x012,0x038,0x024,
	0x001,0x003,
	0x002,0x07E,0x0C3,
	0x002,0x0C3,0x07E,
	0x007,0x00A,0x00A,0x004,0x01F,0x004,0x00A,0x00A,
	0x003,0x008,0x01C,0x008,
	0x002,0x100,0x080,
	0x003,0x008,0x008,0x008,
	0x001,0x020,
	0x003,0x030,0x00C,0x003,
	0x004,0x01E,0x021,0x021,0x01E,
	0x002,0x002,0x03F,
	0x004,0x022,0x031,0x029,0x026,
	0x004,0x012,0x021,0x025,0x01A,
	0x005,0x018,0x014,0x012,0x03F,0x010,
	0x004,0x017,0x025,0x025,0x019,
	0x004,0x01E,0x025,0x025,0x019,
	0x004,0x001,0x039,0x005,0x003,
	0x004,0x01A,0x025,0x025,0x01A,
	0x004,0x026,0x029,0x029,0x01E,
	0x001,0x024,
	0x002,0x040,0x024,
	0x003,0x008,0x014,0x022,
	0x004,0x014,0x014,0x014,0x014,
	0x003,0x022,0x014,0x008,
	0x003,0x002,0x029,0x006,
	0x008,0x038,0x044,0x092,0x0AA,0x0BA,0x0A2,0x09C,0x040,
	0x004,0x03E,0x009,0x009,0x03E,
	0x004,0x03F,0x025,0x025,0x01A,
	0x004,0x01E,0x021,0x021,0x012,
	0x004,0x03F,0x021,0x021,0x01E,
	0x004,0x03F,0x025,0x025,0x021,
	0x004,0x03F,0x005,0x005,0x001,
	0x004,0x01E,0x021,0x029,0x03A,
	0x004,0x03F,0x004,0x004,0x03F,
	0x003,0x021,0x03F,0x021,
	0x004,0x010,0x020,0x020,0x01F,
	0x004,0x03F,0x004,0x00A,0x031,
	0x004,0x03F,0x020,0x020,0x020,
	0x005,0x03F,0x002,0x004,0x002,0x03F,
	0x004,0x03F,0x018,0x006,0x03F,
	0x006,0x00C,0x012,0x021,0x021,0x012,0x00C,
	0x004,0x03F,0x009,0x009,0x006,
	0x006,0x00C,0x012,0x021,0x029,0x012,0x02C,
	0x004,0x03F,0x009,0x009,0x036,
	0x004,0x012,0x025,0x029,0x012,
	0x005,0x001,0x001,0x03F,0x001,0x001,
	0x004,0x01F,0x020,0x020,0x01F,
	0x005,0x003,0x00C,0x030,0x00C,0x003,
	0x009,0x003,0x00C,0x030,0x00C,0x003,0x00C,0x030,0x00C,0x003,
	0x005,0x021,0x012,0x00C,0x012,0x021,
	0x005,0x003,0x004,0x038,0x004,0x003,
	0x006,0x021,0x031,0x029,0x025,0x023,0x021,
	0x002,0x0FF,0x081,
	0x003,0x003,0x03C,0x0C0,
	0x002,0x081,0x0FF,
	0x005,0x004,0x002,0x001,0x002,0x004,
	0x005,0x080,0x080,0x080,0x080,0x080,
	0x003,0x002,0x005,0x002,        
	0x005,0x012,0x02A,0x02A,0x02A,0x03C,
	0x004,0x03F,0x024,0x024,0x018,
	0x004,0x01C,0x022,0x022,0x022,
	0x004,0x018,0x024,0x024,0x03F,
	0x005,0x01C,0x02A,0x02A,0x02A,0x004,
	0x003,0x004,0x03F,0x005,
	0x004,0x09C,0x0A2,0x0A2,0x07E,
	0x004,0x03F,0x004,0x004,0x038,
	0x001,0x03D,
	0x002,0x080,0x27D,
	0x004,0x03F,0x008,0x014,0x022,
	0x001,0x03F,
	0x005,0x03E,0x002,0x03E,0x002,0x03C,
	0x004,0x03E,0x002,0x002,0x03C,
	0x004,0x01C,0x022,0x022,0x01C,
	0x004,0x0FE,0x022,0x022,0x01C,
	0x004,0x01C,0x022,0x022,0x0FE,
	0x004,0x03E,0x004,0x002,0x002,
	0x004,0x024,0x02A,0x02A,0x012,
	0x003,0x002,0x01F,0x022,
	0x004,0x01E,0x020,0x020,0x03E,
	0x005,0x006,0x018,0x020,0x018,0x006,
	0x005,0x01E,0x020,0x01E,0x020,0x01E,
	0x004,0x032,0x00C,0x00C,0x032,
	0x004,0x09E,0x0A0,0x0A0,0x07E,
	0x004,0x032,0x02A,0x026,0x022,
	0x003,0x010,0x06E,0x000,
	0x001,0x0FF,
	0x003,0x081,0x06E,0x010,
	0x005,0x008,0x004,0x004,0x008,0x004,
	0x005,0x03E,0x02B,0x02A,0x023,0x022,
	0x005,0x01C,0x02B,0x02A,0x02B,0x004,
	0x004,0x03E,0x009,0x009,0x03E,
	0x005,0x03F,0x025,0x025,0x025,0x019,
	0x005,0x03F,0x025,0x025,0x025,0x01A,
	0x005,0x03F,0x001,0x001,0x001,0x001,
	0x006,0x060,0x03E,0x021,0x021,0x03E,0x060,
	0x005,0x03F,0x025,0x025,0x021,0x021,
	0x007,0x031,0x00A,0x004,0x03F,0x004,0x00A,0x031,
	0x004,0x021,0x025,0x025,0x01A,
	0x005,0x03F,0x010,0x008,0x004,0x03F,
	0x005,0x03F,0x010,0x009,0x004,0x03F,
	0x004,0x03F,0x004,0x00A,0x031,
	0x005,0x020,0x03F,0x001,0x001,0x03F,
	0x005,0x03F,0x002,0x004,0x002,0x03F,
	0x004,0x03F,0x004,0x004,0x03F,
	0x006,0x00C,0x012,0x021,0x021,0x012,0x00C,
	0x004,0x03F,0x001,0x001,0x03F,
	0x004,0x03F,0x009,0x009,0x006,
	0x004,0x01E,0x021,0x021,0x021,
	0x005,0x001,0x001,0x03F,0x001,0x001,
	0x005,0x007,0x028,0x028,0x028,0x01F,
	0x005,0x00E,0x011,0x03F,0x011,0x00E,
	0x005,0x031,0x00A,0x004,0x00A,0x031,
	0x005,0x03F,0x020,0x020,0x03F,0x060,
	0x004,0x007,0x008,0x008,0x03F,
	0x005,0x03F,0x020,0x03F,0x020,0x03F,
	0x006,0x03F,0x020,0x03F,0x020,0x03F,0x060,
	0x005,0x001,0x03F,0x024,0x024,0x018,
	0x005,0x03F,0x024,0x024,0x018,0x03F,
	0x004,0x03F,0x024,0x024,0x018,
	0x005,0x012,0x021,0x025,0x025,0x01E,
	0x006,0x03F,0x008,0x01E,0x021,0x021,0x01E,
	0x005,0x036,0x009,0x009,0x009,0x03F,
	0x005,0x012,0x02A,0x02A,0x02A,0x03C,
	0x004,0x01E,0x025,0x025,0x019,
	0x005,0x03E,0x02A,0x02A,0x02A,0x014,
	0x004,0x03E,0x002,0x002,0x002,
	0x005,0x060,0x03C,0x022,0x03E,0x060,
	0x005,0x01C,0x02A,0x02A,0x02A,0x024,
	0x005,0x036,0x008,0x03E,0x008,0x036,
	0x004,0x022,0x02A,0x02A,0x014,
	0x004,0x03E,0x010,0x008,0x03E,
	0x004,0x03C,0x011,0x009,0x03C,
	0x004,0x03E,0x008,0x008,0x036,
	0x005,0x020,0x03E,0x002,0x002,0x03E,
	0x005,0x03E,0x004,0x008,0x004,0x03E,
	0x004,0x03E,0x008,0x008,0x03E,
	0x004,0x01C,0x022,0x022,0x01C,
	0x004,0x03E,0x002,0x002,0x03E,
	0x004,0x03E,0x012,0x012,0x00C,
	0x004,0x01C,0x022,0x022,0x022,
	0x005,0x03E,0x002,0x03E,0x002,0x03C,
	0x004,0x09E,0x0A0,0x0A0,0x07E,
	0x005,0x01C,0x022,0x07F,0x022,0x01C,
	0x004,0x032,0x00C,0x00C,0x032,
	0x005,0x03E,0x020,0x020,0x03E,0x060,
	0x004,0x00E,0x010,0x010,0x03E,
	0x005,0x03E,0x020,0x03E,0x020,0x03E,
	0x006,0x03E,0x020,0x03E,0x020,0x03E,0x060,
	0x005,0x002,0x03E,0x024,0x024,0x018,
	0x005,0x03E,0x024,0x024,0x018,0x03E,
	0x004,0x03E,0x024,0x024,0x018,
	0x005,0x014,0x022,0x02A,0x02A,0x01C,
	0x006,0x03E,0x008,0x01C,0x022,0x022,0x01C,
	0x005,0x02C,0x012,0x012,0x012,0x03E,        
};
#ifndef _WINDOWS
static rom 
#else
static
#endif
    WORD Arial_B_Data[]={
    0x000,0x000,0x000,0x000,0x000,    
    0x0DF,0x0DE,
    0x00B,0x007,0x000,0x00B,0x007,
    0x0E4,0x03C,0x027,0x0E4,0x03C,0x027,
    0x09C,0x132,0x3FF,0x132,0x0E4,
    0x00F,0x009,0x0CF,0x030,0x00C,0x0F3,0x090,0x0F0,
    0x060,0x0F6,0x09F,0x099,0x0F7,0x0E6,0x0B0,
    0x00B,0x007,
    0x078,0x1FE,0x303,
    0x303,0x1FE,0x078,
    0x00A,0x007,0x00A,
    0x010,0x010,0x07C,0x010,0x010,
    0x2C0,0x1C0,
    0x010,0x010,0x010,
    0x0C0,0x0C0,
    0x0C0,0x03C,0x003,
    0x07E,0x0FF,0x081,0x0FF,0x07E,
    0x00C,0x006,0x0FF,0x0FF,
    0x0C2,0x0E3,0x0B1,0x09F,0x08E,
    0x042,0x0C3,0x089,0x0FF,0x076,
    0x030,0x02C,0x022,0x0FF,0x0FF,0x020,
    0x05C,0x0CF,0x08B,0x0F9,0x071,
    0x07E,0x0FF,0x089,0x0FB,0x072,
    0x001,0x0F1,0x0FD,0x00F,0x003,
    0x076,0x0FF,0x089,0x0FF,0x076,
    0x04E,0x0DF,0x091,0x0FF,0x07E,
    0x0CC,0x0CC,
    0x2CC,0x1CC,
    0x018,0x018,0x024,0x024,0x042,
    0x028,0x028,0x028,0x028,0x008,
    0x042,0x024,0x024,0x018,0x018,
    0x002,0x0D3,0x0D9,0x00F,0x006,
    0x078,0x186,0x172,0x28D,0x285,0x2C5,0x2FD,0x28D,0x142,0x13C,
    0x0E0,0x0FC,0x03F,0x023,0x03F,0x0FC,0x0E0,
    0x0FF,0x0FF,0x089,0x089,0x0FF,0x076,
    0x03C,0x07E,0x0C3,0x081,0x081,0x0C3,0x042,
    0x0FF,0x0FF,0x081,0x081,0x0FF,0x07E,
    0x0FF,0x0FF,0x089,0x089,0x089,0x081,
    0x0FF,0x0FF,0x009,0x009,0x009,0x001,
    0x03C,0x07E,0x0C3,0x081,0x091,0x0F3,0x072,
    0x0FF,0x0FF,0x008,0x008,0x0FF,0x0FF,
    0x0FF,0x0FF,
    0x040,0x0C0,0x080,0x0FF,0x07F,
    0x0FF,0x0FF,0x018,0x03E,0x0F7,0x0C1,
    0x0FF,0x0FF,0x080,0x080,0x080,0x080,
    0x0FF,0x0FF,0x00F,0x07C,0x0E0,0x07C,0x00F,0x0FF,0x0FF,
    0x0FF,0x0FF,0x00C,0x030,0x0FF,0x0FF,
    0x03C,0x07E,0x0C3,0x081,0x0C3,0x07E,0x03C,
    0x0FF,0x0FF,0x011,0x011,0x01F,0x00E,
    0x03C,0x07E,0x0C3,0x0A1,0x0C3,0x0FE,0x13C,0x100,
    0x0FF,0x0FF,0x011,0x031,0x07F,0x0CE,0x080,
    0x04E,0x0CF,0x099,0x099,0x0F3,0x072,
    0x001,0x001,0x0FF,0x0FF,0x001,0x001,
    0x07F,0x0FF,0x080,0x080,0x0FF,0x07F,
    0x003,0x03F,0x0FC,0x0C0,0x0FC,0x03F,0x003,
    0x003,0x03F,0x0FC,0x0E0,0x03E,0x007,0x03E,0x0E0,0x0FC,0x03F,0x003,
    0x0C3,0x0E7,0x03C,0x03C,0x0E7,0x0C3,
    0x003,0x00F,0x0F8,0x0F8,0x00F,0x003,
    0x0C1,0x0E1,0x0B1,0x099,0x08D,0x087,0x083,
    0x3FF,0x3FF,0x201,
    0x003,0x03C,0x0C0,
    0x201,0x3FF,0x3FF,
    0x008,0x00E,0x003,0x00E,0x008,
    0x200,0x200,0x200,0x200,0x200,0x200,
    0x001,0x003,0x002,
    0x068,0x0F4,0x094,0x0FC,0x0F8,
    0x0FF,0x0FF,0x084,0x084,0x0FC,0x078,
    0x078,0x0FC,0x084,0x0CC,0x048,
    0x078,0x0FC,0x084,0x084,0x0FF,0x0FF,
    0x078,0x0FC,0x094,0x094,0x0DC,0x058,
    0x004,0x0FE,0x0FF,0x005,0x001,
    0x178,0x2FC,0x284,0x284,0x3FC,0x1FC,
    0x0FF,0x0FF,0x004,0x004,0x0FC,0x0F8,
    0x0FD,0x0FD,
    0x200,0x3FD,0x1FD,
    0x0FF,0x0FF,0x030,0x078,0x0EC,0x084,
    0x0FE,0x0FF,
    0x0FC,0x0FC,0x004,0x004,0x0FC,0x0FC,0x004,0x004,0x0FC,0x0F8,
    0x0FC,0x0FC,0x004,0x004,0x0FC,0x0F8,
    0x078,0x0FC,0x084,0x084,0x0FC,0x078,
    0x3FC,0x3FC,0x084,0x084,0x0FC,0x078,
    0x078,0x0FC,0x084,0x084,0x3FC,0x3FC,
    0x0FC,0x0FC,0x008,0x004,0x004,0x004,
    0x058,0x0DC,0x0B4,0x0B4,0x0EC,0x068,
    0x004,0x07E,0x0FF,0x084,
    0x07C,0x0FC,0x080,0x080,0x0FC,0x0FC,
    0x03C,0x0FC,0x0C0,0x0FC,0x03C,
    0x01C,0x0FC,0x0E0,0x078,0x00C,0x078,0x0E0,0x0FC,0x01C,
    0x0CC,0x0FC,0x030,0x0FC,0x0CC,
    0x204,0x23C,0x3F8,0x1C0,0x0F8,0x03C,0x004,
    0x0C4,0x0E4,0x0B4,0x09C,0x08C,
    0x020,0x1FE,0x000,0x201,
    0x3FF,
    0x201,0x3DF,0x1FE,0x020,
    0x010,0x008,0x008,0x010,0x008,
    0x0FE,0x0FF,0x092,0x092,0x083,0x082,
    0x078,0x0FD,0x094,0x094,0x0DD,0x058,
    0x0E0,0x0FC,0x03F,0x023,0x03F,0x0FC,0x0E0,
    0x0FF,0x0FF,0x089,0x089,0x089,0x0F9,0x070,
    0x0FF,0x0FF,0x089,0x089,0x0FF,0x076,
    0x0FF,0x0FF,0x001,0x001,0x001,
    0x380,0x0FF,0x0FF,0x081,0x0FF,0x0FF,0x380,
    0x0FF,0x0FF,0x089,0x089,0x081,
    0x081,0x0F3,0x07E,0x008,0x0FF,0x0FF,0x008,0x07E,0x0F3,0x081,
    0x042,0x0C3,0x089,0x089,0x0FF,0x076,
    0x0FF,0x0FF,0x060,0x030,0x018,0x0FF,0x0FF,
    0x0FF,0x0FF,0x060,0x033,0x018,0x0FF,0x0FF,
    0x0FF,0x0FF,0x008,0x07E,0x0F3,0x081,
    0x080,0x0FF,0x07F,0x001,0x001,0x0FF,0x0FF,
    0x0FF,0x0FF,0x00F,0x07C,0x0E0,0x07C,0x00F,0x0FF,0x0FF,
    0x0FF,0x0FF,0x008,0x008,0x0FF,0x0FF,
    0x03C,0x07E,0x0C3,0x081,0x0C3,0x07E,0x03C,
    0x0FF,0x0FF,0x001,0x001,0x001,0x0FF,0x0FF,
    0x0FF,0x0FF,0x011,0x011,0x01F,0x00E,
    0x03C,0x07E,0x0C3,0x081,0x081,0x0C3,0x042,
    0x001,0x001,0x0FF,0x0FF,0x001,0x001,
    0x003,0x08F,0x0FC,0x078,0x01F,0x007,
    0x03C,0x07E,0x042,0x0FF,0x0FF,0x042,0x07E,0x03C,
    0x0C3,0x0E7,0x03C,0x03C,0x0E7,0x0C3,
    0x0FF,0x0FF,0x080,0x080,0x0FF,0x0FF,0x380,
    0x00F,0x01F,0x010,0x010,0x010,0x0FF,0x0FF,
    0x0FF,0x0FF,0x080,0x080,0x0FF,0x0FF,0x080,0x080,0x0FF,0x0FF,
    0x0FF,0x0FF,0x080,0x080,0x0FF,0x0FF,0x080,0x080,0x0FF,0x0FF,0x380,
    0x001,0x001,0x0FF,0x0FF,0x088,0x088,0x088,0x0F8,0x070,
    0x0FF,0x0FF,0x088,0x088,0x088,0x0F8,0x070,0x0FF,0x0FF,
    0x0FF,0x0FF,0x088,0x088,0x088,0x0F8,0x070,
    0x024,0x066,0x0C3,0x089,0x0CB,0x07E,0x03C,
    0x0FF,0x0FF,0x018,0x03C,0x07E,0x0C3,0x081,0x0C3,0x07E,0x03C,
    0x080,0x0CE,0x07F,0x031,0x011,0x0FF,0x0FF,
    0x068,0x0F4,0x094,0x0FC,0x0F8,
    0x07E,0x0FD,0x085,0x085,0x0FD,0x079,
    0x0FC,0x0FC,0x094,0x094,0x0FC,0x068,
    0x0FC,0x0FC,0x004,0x004,
    0x380,0x0C0,0x0FC,0x084,0x0FC,0x0FC,0x380,
    0x078,0x0FC,0x094,0x094,0x0DC,0x058,
    0x0C4,0x0EC,0x010,0x0FC,0x0FC,0x010,0x0EC,0x0C4,
    0x048,0x084,0x094,0x0FC,0x068,
    0x0FC,0x0FC,0x060,0x018,0x0FC,0x0FC,
    0x0FC,0x0FD,0x061,0x019,0x0FD,0x0FC,
    0x0FC,0x0FC,0x010,0x078,0x0EC,0x084,
    0x080,0x0FC,0x07C,0x004,0x0FC,0x0FC,
    0x0FC,0x0FC,0x030,0x0C0,0x030,0x0FC,0x0FC,
    0x0FC,0x0FC,0x010,0x010,0x0FC,0x0FC,
    0x078,0x0FC,0x084,0x084,0x0FC,0x078,
    0x0FC,0x0FC,0x004,0x004,0x0FC,0x0FC,
    0x3FC,0x3FC,0x084,0x084,0x0FC,0x078,
    0x078,0x0FC,0x084,0x0CC,0x048,
    0x004,0x0FC,0x0FC,0x004,
    0x204,0x23C,0x3F8,0x1C0,0x0F8,0x03C,0x004,
    0x078,0x0FC,0x084,0x3FF,0x3FF,0x084,0x0FC,0x078,
    0x0CC,0x0FC,0x030,0x0FC,0x0CC,
    0x0FC,0x0FC,0x080,0x080,0x0FC,0x0FC,0x380,
    0x01C,0x03C,0x020,0x0FC,0x0FC,
    0x0FC,0x0FC,0x080,0x0FC,0x0FC,0x080,0x0FC,0x0FC,
    0x0FC,0x0FC,0x080,0x0FC,0x0FC,0x080,0x0FC,0x0FC,0x380,
    0x004,0x0FC,0x0FC,0x090,0x0F0,0x060,
    0x0FC,0x0FC,0x090,0x0F0,0x060,0x0FC,0x0FC,
    0x0FC,0x0FC,0x090,0x0F0,0x060,
    0x048,0x0CC,0x094,0x0FC,0x078,
    0x0FC,0x0FC,0x010,0x078,0x0FC,0x084,0x0FC,0x078,
    0x080,0x0D8,0x07C,0x024,0x0FC,0x0FC,


};
#ifndef _WINDOWS
#pragma romdata
#endif

static WORD Arial_cp1251[256];
static WORD Arial_B_cp1251[256];

void InitFonts(void)
{
    WORD i = 0;
    WORD j = 0;
    WORD b = 0;
    static BYTE AlreadyInited = 0;
    if(AlreadyInited == 0){
        for(j=0;j<256;j++){
            Arial_cp1251[j] = i;
            i += Arial_Data[i] + 1;
        }
        i = 0;
        for(j=0;j<256;j++){
            Arial_B_cp1251[j] = i;
            i += Arial_B_Data[i] + 1;
        }
        AlreadyInited = 1;
    }
}

WORD* GetSymbolImage(BYTE symbol,WORD* OutWordCount,BYTE CFont){
    static WORD Image[12];
    BYTE i;        
    WORD Begin =  0;
    WORD End   =  0;    
    WORD Size =  0;
    switch(CFont){
        case 0:
            Begin = Arial_cp1251[symbol];
            End   = Arial_cp1251[(symbol+1)];    
        break;
        case 1:
            Begin = Arial_B_cp1251[symbol];
            End   = Arial_B_cp1251[(symbol+1)];    
        break;
        default:
            End   = 0;
            Begin = 0;
    }
    Size  =  End - Begin;
    //Image[0]=0;
    if(Size<1){
        OutWordCount[0] = 0;
        return 0;
    } 
     switch(CFont){
        case 0:
            for(i=0;i<Size;i++){
                Image[i]= Arial_Data[Begin+i];
            }
        break;
        case 1:
            for(i=0;i<Size;i++){
                Image[i]= Arial_B_Data[Begin+i];
            }
        break;
     }   
    OutWordCount[0] = Size;
    return Image;//&ArialData[Begin];    
}

