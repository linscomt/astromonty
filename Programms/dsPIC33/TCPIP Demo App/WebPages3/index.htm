<!DOCTYPE html>
<html lang="ru">
  <head>
	<meta charset="utf-8">	
	<link rel="stylesheet" type="text/css" href="style/style1.css" />	
	<script src="jquery.js"></script>
	<!--<script src="stars/Tycho2_DE.js" type="text/javascript"></script>
	<script src="stars/Tycho2_RA.js" type="text/javascript"></script>
	<script src="stars/Tycho2_T1.js" type="text/javascript"></script>
	<script src="stars/Tycho2_T2.js" type="text/javascript"></script>
	<script src="stars/Tycho2_T3.js" type="text/javascript"></script>
	<script src="stars/Tycho2_VT.js" type="text/javascript"></script>-->
	<script src="stars/Tycho2.js" type="text/javascript"></script>
	<!--<script src="stars/Tycho2_5.js" type="text/javascript"></script>
	<script src="stars/Tycho2_6.js" type="text/javascript"></script>
	<script src="stars/Tycho2_7.js" type="text/javascript"></script>
	<script src="stars/Tycho2_8.js" type="text/javascript"></script>-->
	<script src="astro.js" type="text/javascript"></script>	
	<script src="mchp.js" type="text/javascript"></script>
	

</head>
<body onload="loadCanvas();">
	<div id="shadow-one"><div id="shadow-two"><div id="shadow-three"><div id="shadow-four">
	<div id="page">
	<div style="padding:0 0 5px 5px"><img src="mchp.gif" alt="Microchip" /></div>

	<div id="title"><div class="right">TCP/IP Stack Demo Application</div><span id="hello">&nbsp;</span></div>
	<div id="menu">
		<a href="/index.htm">Overview</a>
		<!--<a href="dynvars.htm">Dynamic Variables</a>
		<a href="forms.htm">Form Processing</a>-->
		<a href="/auth.htm">Authentication</a>
		<a href="/cookies.htm">Cookies</a>
		<a href="/upload.htm">File Uploads</a>
		<!--<a href="email">Send E-mail</a>
		<a href="dyndns">Dynamic DNS</a>-->
		<a href="/protect/config.htm">Network Configuration</a>
		<!--<a href="snmp/snmpconfig.htm">SNMP Configuration</a>-->
	</div>	
	
	<div id="leftboth">
		<div id="status">
			<div id="loading" style="display:none">Error:<br />Connection to demo board was lost.</div>
			<div id="display">
				<!--Local time:<br /><output id="LocalTime">0</output><br />-->
				UTC:<br /><output id="UTCTime">0</output><br />
				<!--α :<output id="ang0">5° 37' 58.32"</output><br />
				δ :<output id="ang1">5° 37' 58.32"</output>
				Star time:<br /><output id="StarTime">0</output-->
			</div>	
		</div>
		<div id="status">		
			<div id="display">
				Telescope coordinate:
				<p>
				α :<output id="ang0">5° 37' 58.32"</output><br />
				δ :<output id="ang1">5° 37' 58.32"</output>
				</p>
			</div>	
		</div>
		<div id="target">	
			<div id="ReqTarget">
				Target coordinate
				<form action="run.html">
					<p>α :
					<span class="targetRA">
						<input type="text" name="RA_h" id="RAh" value="00" min="-1" max="23" onchange="updateTarget(1);">h
						<input type="text" name="RA_m" id="RAm" value="00" min="-1" max="60" onchange="updateTarget(1);">'
						<input type="text" name="RA_s" id="RAs" value="00" min="-1" max="60" onchange="updateTarget(1);" style="width:40px;">" 
					</span><br />
					δ : 
					<span class="targetRA">
						<input type="text" name="DE_h" id="DEh" value="00" min="-90" max="90" onchange="updateTarget(2);">°
						<input type="text" name="DE_m" id="DEm" value="00" min="-1" max="60" onchange="updateTarget(2);">'
						<input type="text" name="DE_s" id="DEs" value="00" min="-1" max="60" onchange="updateTarget(2);"style="width:40px;">"
					</span></p>
					<input type="button" value="GoTo!" onclick="GoTo();">
					<input type="button" value="View position" onclick="GoToView();">
				</form>
			</div>
		</div>	
		<div id="control">	
			<div id="dControl">
				Controls
				<form>		
					<p>Scale <br />
						<input class="ControlScale" id="starScale" type="range" value="25" min="4" max="1000" step="1" onchange="updateScale(1);" >
						<input class="ControlScaleN" type="number" id="starScaleN" value="25" min="4" max="1000" onchange="updateScale(2);">
						Magnitude <br />
						<input class="ControlScale" id="starMagn" type="range" value="9" min="0" max="9" step="0,1" onchange="updateMagn(1);" >
						<input class="ControlScaleN" type="number" id="starMagnN" value="9" min="0" max="9" onchange="updateMagn(2);">
					</p>
				</form>
			</div>
		</div>
	</div>	
	<div style="width:600;margin-left:auto;margin-right:auto;" id="CanvasBox">
		<canvas id="my_canvas" width="580" height="580"></canvas>
	</div>
	<div style="overflow: auto;">
		<div id="StarCounter"></div>
		<div style="clear: both;"></div>
	</div>
	<div style="clear: both;"></div>
<div id="footer">Copyright &copy; 2010 Microchip Technology, Inc.</div>

</div></div></div></div></div>
<script type="text/javascript">
	// подсказка с координатами
	new Tooltip({
		elem: $('#my_canvas'),
		html: "<output id=\"outXt\"></output><br />" + 
		"<output id=\"outYt\"></output>" + 
		"<div id=\"StarInfo\"> Found star:<br />"+
		"<output id=\"outTYC\"></output><br />" + 
		"<output id=\"outSa\"></output><br />" + 
		"<output id=\"outSg\"></output></div>"
	});
	<!--
// Parses the xmlResponse from status.xml and updates the status box
function updateStatus(xmlData) {
	var mainstat = document.getElementById('display').style.display;
	var loadstat = document.getElementById('loading').style.display;

	// Check if a timeout occurred
	if(!xmlData)
	{
		mainstat = 'none';
		loadstat = 'inline';
		return;
	}

	// Make sure we're displaying the status display
	mainstat = 'inline';
	loadstat = 'none';

	// Loop over all the LEDs
	//for(i = 0; i < 8; i++)
	//	document.getElementById('led' + i).style.color = (getXMLValue(xmlData, 'led' + i) == '1') ? '#090' : '#ddd';

	// Loop over all the buttons
	//for(i = 0; i < 4; i++)
	//	document.getElementById('btn' + i).innerHTML = (getXMLValue(xmlData, 'btn' + i) == 'up') ? '&Lambda;' : 'V';
		
	for(i = 0; i < 2; i++){
		var angle = +getXMLValue(xmlData, 'ang' + i)*180/Math.PI;
		if(i==0) {
			document.getElementById('ang' + i).innerHTML = AngleToString(angle,true);
			CurrentPosition.X = angle;
		} else if(i==1){
			document.getElementById('ang' + i).innerHTML = AngleToString(angle,false);
			CurrentPosition.Y = angle;
		}
	}
	StarView.updateStars();
	// Update the POT value
	//document.getElementById('pot0').innerHTML = getXMLValue(xmlData, 'pot0');
}
setTimeout("newAJAXCommand('status.xml', updateStatus, true)",500);

</script>
</body>
</html>