<!DOCTYPE html>
<html lang="ru">
  <head>
	<meta charset="utf-8">
	<style type="text/css">
			body {
				padding:0px;
				margin:0px;
				background-color: #888;
			}
			video {
				padding:0px;
				margin:0px;
			}
			#my_page {
				width:320px;
			}
			div#no-canvas {
				display:none;
			}
			canvas {
				border: 1px solid #888;
				-moz-border-radius: 10px;
				-webkit-border-radius: 10px;
				border-radius: 10px;
				background-color: #000;
			}
		</style>
	
	<script src="stars/Tycho2_DE.js" type="text/javascript"></script>
	<script src="stars/Tycho2_RA.js" type="text/javascript"></script>
	<!--<script src="stars/Tycho2_T1.js" type="text/javascript"></script>
	<script src="stars/Tycho2_T2.js" type="text/javascript"></script>
	<script src="stars/Tycho2_T3.js" type="text/javascript"></script>-->
	<script src="stars/Tycho2_VT.js" type="text/javascript"></script>
	
	<script type="text/javascript">
		function loadCanvas() {
			var canvas = document.getElementById('my_canvas');
			if(canvas.getContext) {
				var ctx = canvas.getContext('2d');
				var WSizeX = canvas.width;
				var WSizeY = canvas.height;
				var CoordX = 84;
				var CoordY = -5;
				var Scale = 15; // увеличить в 10 раз
				
				var ImgLeft  = CoordX + WSizeX/(2*Scale);
				var ImgRight = CoordX - WSizeX/(2*Scale);
				var ImgTop   = CoordY + WSizeY/(2*Scale);
				var ImgBottom = CoordY - WSizeY/(2*Scale);
				var i = 0;
				var minMag = 9;
				var maxMag = -5;
				var ArrsLength = RA.length;			
				
				//if(0){
				for ( i = 0;i < ArrsLength; i++) {
					if(VTmag[i]>minMag) continue;
					if(VTmag[i]<maxMag) continue;
					if(RA[i] < ImgRight) continue;
					if(RA[i] > ImgLeft) continue;
					if(DE[i] < ImgBottom) continue;
					if(DE[i] > ImgTop) continue;
					ctx.beginPath();
					switch (VTmag[i]){
						case -1.088: ctx.fillStyle = "blue"; // сириус
						break;
						case 0.283 : ctx.fillStyle = "cyan"; //Ригель
						break;
						case 0.769 : ctx.fillStyle = "red"; // бетельгейзе
						break;
						default :    ctx.fillStyle = "white";
						break;
					}					
					ctx.arc((ImgLeft-RA[i])*Scale,(ImgTop - DE[i])*Scale,(10 - VTmag[i])/4,0,Math.PI*2,true);
					ctx.fill();
				};
				//}
			} else {
				document.getElementById('my_canvas').style.display = 'none';
				document.getElementById('no-canvas').style.display = 'block';
			}
		}
		</script>
  </head>
  
<body onload="loadCanvas();">

	<div id="my_page">
		<div style="padding:5px;margin:5px;font-size:small;">
			<b>HTML5 - Canvas</b><br>
			An example of the HTML5 canvas element.
		</div>
		<div style="width:200px;margin-left:auto;margin-right:auto;">
			<canvas id="my_canvas" width="600" height="600"></canvas>
			<div id="no-canvas">You need a Canvas-compatible browser to view this area.</div>
		</div>		
	</div>

</body>
</html>